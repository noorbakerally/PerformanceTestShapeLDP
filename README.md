
# PerformanceTestShapeLDP

To generate performance results of ShapeLDP, first random RDF graphs are generated and then they are executed by ShapeLDP and their results are saved. Below the process of generating random RDF graph structured per the DCAT vocabulary and the process of generating LDP datatasets using ShapeLDP by executing these RDF graphs with respect to a design document are explained. 


## Generation of random DCAT RDF datasets
To generate random datasets, use the python script `generateDataset.py`. In this script, there are two variables `top` and `placeHolder`.  The `top` variable contains a definition for a DCAT catalog in the DCAT dataset to be generated. The `placeHolder` contains the part of the dataset that is going to be randomly generated by replacing all occurrences of `<theRandomCode>` from it with a random number such that all the URL all resources in the dataset after generating this random number is not going to occur the next time new random numbers are generated to obtain random resources for this file.

When launch, the script starts execution and it starts generating random codes, replacing in the placeholder to obtain a definition of a DCAT dataset with its DCAT distribution. A triple connecting the DCAT catalog defined in the `top` variable is also added. That is, every time, when a DCAT dataset is created, there are 36 triples in its definition plus one triple for connecting it with the DCAT catalog making it 37 triples. 

On every run, a new DCAT dataset with its DCAT distributions is created. 
Now, on every 50 datasets created, they are saved in a file to obtain a new DCAT RDF graph. The file name is the i<sup>th</sup> run and is saved in the directory `datasets`. On the first time, a DCAT RDF dataset of  1856 triples (50 x 37 + 6) is obtained. In all, there 27050 runs making 541 DCAT RDF graph created. On the last run, the total number of triples is 1000856 triples (27050*37+6).

## Generating the time taken to process each DCAT RDF Graph by [ShapeLDP](https://github.com/noorbakerally/ShapeLDP)

All the DCAT RDF graphs generated is executed and their time are recorded using the script `testtime.py`. In the script, there are some variables to parametrize the test. The path of the ShapeLDP jar should be specified using the variable `jarPath`  and that of the design document used is specified using the variable `designDocument`. By default, ShapeLDP process the design document with respect to an DCAT RDF graph 5 times. This can be changed by altering the variable `maxRun`. The mean, median and standard deviation is calculated and is saved in the results file with same as the filename of the DCAT RDF graph.  

